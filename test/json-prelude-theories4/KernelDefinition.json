{"tag":"module-with-hash","module":{"tag":"theory","id":"KernelDefinition","formals":[{"tag":"formal-type-decl","id":"X","theory":"KernelDefinition"},{"tag":"formal-type-decl","id":"X1","theory":"KernelDefinition","supertype":{"typehash":"398176905"},"predicate":["ppJsonMl*",["predicate","decl"]]},{"tag":"formal-type-decl","id":"Y","theory":"KernelDefinition"}],"declarations":[{"tag":"var-decl","id":"f","type":{"typehash":"1497878348"}},{"tag":"var-decl","id":"R","type":{"typehash":"708486710"}},{"tag":"var-decl","id":"x1","type":{"typehash":"549776158"}},{"tag":"var-decl","id":"x2","type":{"typehash":"549776158"}},{"tag":"formula-decl","id":"EquivalenceKernel_TCC1","label":"obligation","definition":{"tag":"forall","bindings":[{"tag":"variable","id":"f","type":{"typehash":"1497878348"}}],"expression":{"tag":"apply","operator":{"tag":"constant","id":"equivalence?","theory":"relations","actuals":[{"tag":"type-actual","type":{"typehash":"549776158"}}],"type":{"typehash":"1555588720"}},"argument":{"tag":"lambda","bindings":[{"tag":"variable","id":"x1","type":{"typehash":"549776158"}},{"tag":"variable","id":"x2","type":{"typehash":"549776158"}}],"expression":{"tag":"apply","operator":{"tag":"constant","id":"=","theory":"equalities","actuals":[{"tag":"type-actual","type":{"typehash":"398325523"}}],"type":{"typehash":"709378418"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"variable","id":"f","type":{"typehash":"1497878348"}},"argument":{"tag":"variable","id":"x1","type":{"typehash":"549776158"}}},{"tag":"apply","operator":{"tag":"variable","id":"f","type":{"typehash":"1497878348"}},"argument":{"tag":"variable","id":"x2","type":{"typehash":"549776158"}}}]}}}}},"proof":{"tag":"proof-info","script":"(\"\" (grind) nil nil)","status":"proved"}},{"tag":"const-decl","id":"EquivalenceKernel","theory":"KernelDefinition","type":{"typehash":"2618090342"},"const-def":{"tag":"lambda","bindings":[{"tag":"variable","id":"x1","type":{"typehash":"549776158"}},{"tag":"variable","id":"x2","type":{"typehash":"549776158"}}],"expression":{"tag":"apply","operator":{"tag":"constant","id":"=","theory":"equalities","actuals":[{"tag":"type-actual","type":{"typehash":"398325523"}}],"type":{"typehash":"709378418"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"variable","id":"f","type":{"typehash":"1497878348"}},"argument":{"tag":"variable","id":"x1","type":{"typehash":"549776158"}}},{"tag":"apply","operator":{"tag":"variable","id":"f","type":{"typehash":"1497878348"}},"argument":{"tag":"variable","id":"x2","type":{"typehash":"549776158"}}}]}}}},{"tag":"const-decl","id":"PreservesEq","theory":"KernelDefinition","type":{"typehash":"2732154889"},"const-def":{"tag":"apply","operator":{"tag":"constant","id":"subset?","theory":"sets","actuals":[{"tag":"type-actual","type":{"typehash":"1649328982"}}],"type":{"typehash":"3732951352"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"constant","id":"restrict","theory":"restrict","actuals":[{"tag":"type-actual","type":{"typehash":"1194531223"}},{"tag":"type-actual","type":{"typehash":"1649328982"}},{"tag":"type-actual","type":{"typehash":"2614391051"}}],"type":{"typehash":"3035056157"}},"argument":{"tag":"variable","id":"R","type":{"typehash":"708486710"}}},{"tag":"apply","operator":{"tag":"constant","id":"EquivalenceKernel","theory":"KernelDefinition","type":{"typehash":"2618090342"}},"argument":{"tag":"variable","id":"f","type":{"typehash":"1497878348"}}}]}}},{"tag":"formula-decl","id":"PreservesEqClosure","label":"lemma","definition":{"tag":"forall","bindings":[{"tag":"variable","id":"R","type":{"typehash":"708486710"}}],"expression":{"tag":"apply","operator":{"tag":"constant","id":"=","theory":"equalities","actuals":[{"tag":"type-actual","type":{"typehash":"1315180960"}}],"type":{"typehash":"1915543744"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"constant","id":"PreservesEq","theory":"KernelDefinition","type":{"typehash":"2732154889"}},"argument":{"tag":"variable","id":"R","type":{"typehash":"708486710"}}},{"tag":"apply","operator":{"tag":"constant","id":"PreservesEq","theory":"KernelDefinition","type":{"typehash":"2732154889"}},"argument":{"tag":"apply","operator":{"tag":"constant","id":"extend","theory":"extend","actuals":[{"tag":"type-actual","type":{"typehash":"1194531223"}},{"tag":"type-actual","type":{"typehash":"1649328982"}},{"tag":"type-actual","type":{"typehash":"2614391051"}},{"tag":"const-actual","expr":{"tag":"constant","id":"FALSE","theory":"booleans","type":{"typehash":"2614391051"}}}],"type":{"typehash":"3944651675"}},"argument":{"tag":"apply","operator":{"tag":"constant","id":"EquivClos","theory":"EquivalenceClosure","actuals":[{"tag":"type-actual","type":{"typehash":"549776158"}}],"type":{"typehash":"2858498102"}},"argument":{"tag":"apply","operator":{"tag":"constant","id":"restrict","theory":"restrict","actuals":[{"tag":"type-actual","type":{"typehash":"1194531223"}},{"tag":"type-actual","type":{"typehash":"1649328982"}},{"tag":"type-actual","type":{"typehash":"2614391051"}}],"type":{"typehash":"3035056157"}},"argument":{"tag":"variable","id":"R","type":{"typehash":"708486710"}}}}}}]}}},"proof":{"tag":"proof-info","script":"(\"\" (skosimp*)\n ((\"\" (expand \"PreservesEq\")\n   ((\"\" (apply-extensionality :hide? t)\n     ((\"\" (iff)\n       ((\"\" (prop)\n         ((\"1\" (lemma \"EquivClosLeast[X1]\")\n           ((\"1\" (inst?)\n             ((\"1\" (assert)\n               ((\"1\"\n                 (rewrite\n                  \"restrict_extend[[X, X], [X1, X1], bool, FALSE]\")\n                 nil nil))\n               nil))\n             nil))\n           nil)\n          (\"2\" (lemma \"EquivClosSuperset[X1]\")\n           ((\"2\"\n             (rewrite \"restrict_extend[[X, X], [X1, X1], bool, FALSE]\")\n             ((\"2\" (inst?)\n               ((\"2\" (lemma \"subset_transitive[[X1, X1]]\")\n                 ((\"2\"\n                   (inst -1 \"restrict[[X, X], [X1, X1], bool](R!1)\"\n                    \"EquivClos(restrict[[X, X], [X1, X1], boolean](R!1))\"\n                    \"EquivalenceKernel(x!1)\")\n                   ((\"2\" (assert) nil nil)) nil))\n                 nil))\n               nil))\n             nil))\n           nil))\n         nil))\n       nil))\n     nil))\n   nil))\n nil)","status":"proved"}},{"tag":"formula-decl","id":"PreservesEq_is_preserving","label":"lemma","definition":{"tag":"forall","bindings":[{"tag":"variable","id":"R","type":{"typehash":"708486710"}}],"expression":{"tag":"apply","operator":{"tag":"constant","id":"=","theory":"equalities","actuals":[{"tag":"type-actual","type":{"typehash":"1315180960"}}],"type":{"typehash":"1915543744"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"constant","id":"PreservesEq","theory":"KernelDefinition","type":{"typehash":"2732154889"}},"argument":{"tag":"variable","id":"R","type":{"typehash":"708486710"}}},{"tag":"apply","operator":{"tag":"constant","id":"preserves","theory":"functions","actuals":[{"tag":"type-actual","type":{"typehash":"549776158"}},{"tag":"type-actual","type":{"typehash":"398325523"}}],"type":{"typehash":"616333641"}},"argument":{"tag":"tuple","exprs":[{"tag":"apply","operator":{"tag":"constant","id":"restrict","theory":"restrict","actuals":[{"tag":"type-actual","type":{"typehash":"1194531223"}},{"tag":"type-actual","type":{"typehash":"1649328982"}},{"tag":"type-actual","type":{"typehash":"2614391051"}}],"type":{"typehash":"3035056157"}},"argument":{"tag":"variable","id":"R","type":{"typehash":"708486710"}}},{"tag":"constant","id":"=","theory":"equalities","actuals":[{"tag":"type-actual","type":{"typehash":"398325523"}}],"type":{"typehash":"709378418"}}]}}]}}},"proof":{"tag":"proof-info","script":"(\"\" (grind) ((\"\" (apply-extensionality :hide? t) nil nil)) nil)","status":"proved"}}]},"type-hash":{"tag":"typelist","entries":{"1915543744":{"tag":"functiontype","domain":{"typehash":"3945543388"},"range":{"typehash":"2614391051"}},"3410745370":{"tag":"functiontype","domain":{"typehash":"398176905"},"range":{"typehash":"2614391051"}},"549776158":{"tag":"subtype","supertype":{"typehash":"398176905"},"predicate":{"tag":"constant","id":"X1_pred","theory":"KernelDefinition","type":{"typehash":"3410745370"}}},"559279896":{"tag":"tupletype","types":[{"typehash":"1618082228"},{"typehash":"1618082228"}]},"2732154889":{"tag":"functiontype","domain":{"typehash":"708486710"},"range":{"typehash":"1315180960"}},"1315180960":{"tag":"functiontype","domain":{"typehash":"1497878348"},"range":{"typehash":"2614391051"}},"709378418":{"tag":"functiontype","domain":{"typehash":"1194977077"},"range":{"typehash":"2614391051"}},"3035056157":{"tag":"functiontype","domain":{"typehash":"708486710"},"range":{"typehash":"1618082228"}},"3732951352":{"tag":"functiontype","domain":{"typehash":"559279896"},"range":{"typehash":"2614391051"}},"1618082228":{"tag":"functiontype","domain":{"typehash":"1649328982"},"range":{"typehash":"2614391051"}},"1649328982":{"tag":"tupletype","types":[{"typehash":"549776158"},{"typehash":"549776158"}]},"2858498102":{"tag":"functiontype","domain":{"typehash":"1618082228"},"range":{"typehash":"3917300433"}},"3944651675":{"tag":"functiontype","domain":{"typehash":"1618082228"},"range":{"typehash":"708486710"}},"616333641":{"tag":"functiontype","domain":{"typehash":"3945543382"},"range":{"typehash":"1315180960"}},"398176905":{"tag":"typename","id":"X","theory":"KernelDefinition","actuals":[]},"398325523":{"tag":"typename","id":"Y","theory":"KernelDefinition","actuals":[]},"3917300433":{"tag":"subtype","supertype":{"typehash":"1618082228"},"predicate":{"tag":"constant","id":"equivalence?","theory":"relations","actuals":[{"tag":"type-actual","type":{"typehash":"549776158"}}],"type":{"typehash":"1555588720"}}},"1555588720":{"tag":"functiontype","domain":{"typehash":"1618082228"},"range":{"typehash":"2614391051"}},"3945543388":{"tag":"tupletype","types":[{"typehash":"1315180960"},{"typehash":"1315180960"}]},"2614391051":{"tag":"typename","id":"boolean","theory":"booleans","actuals":[]},"3945543382":{"tag":"tupletype","types":[{"typehash":"1618082228"},{"typehash":"709378418"}]},"1194531223":{"tag":"tupletype","types":[{"typehash":"398176905"},{"typehash":"398176905"}]},"708486710":{"tag":"functiontype","domain":{"typehash":"1194531223"},"range":{"typehash":"2614391051"}},"1194977077":{"tag":"tupletype","types":[{"typehash":"398325523"},{"typehash":"398325523"}]},"1497878348":{"tag":"functiontype","domain":{"typehash":"549776158"},"range":{"typehash":"398325523"}},"2618090342":{"tag":"functiontype","domain":{"typehash":"1497878348"},"range":{"typehash":"3917300433"}}}}}